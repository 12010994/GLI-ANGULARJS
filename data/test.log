/*C6*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B4D8C5B9B6
alter table Participant drop constraint FK9127971384EAAD68
alter table Participant drop constraint FK91279713E78A2D13
alter table Participant drop constraint FK91279713EA60FD13
drop table Car if exists
drop table Event if exists
drop table Participant if exists
create table Car (id integer generated by default as identity (start with 1), seat integer not null, event1_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date varchar(255), place varchar(255), primary key (id))
create table Participant (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, eventId integer, primary key (id))
alter table Car add constraint FK107B4D8C5B9B6 foreign key (event1_id) references Event
alter table Participant add constraint FK9127971384EAAD68 foreign key (eventId) references Event
alter table Participant add constraint FK91279713E78A2D13 foreign key (event_id) references Event
alter table Participant add constraint FK91279713EA60FD13 foreign key (car_id) references Car
INSERT INTO EVENT VALUES(1,'11-11-11','Redon')
COMMIT
INSERT INTO EVENT VALUES(2,'12-12-12','Rennes')
COMMIT
INSERT INTO PARTICIPANT VALUES(1,'Coco',NULL,1,NULL)
DELETE FROM PARTICIPANT WHERE ID=1
INSERT INTO PARTICIPANT VALUES(1,'Coco',NULL,1,1)
COMMIT
INSERT INTO PARTICIPANT VALUES(2,'Bob',NULL,1,NULL)
DELETE FROM PARTICIPANT WHERE ID=2
INSERT INTO PARTICIPANT VALUES(2,'Bob',NULL,1,1)
COMMIT
INSERT INTO PARTICIPANT VALUES(3,'Tom',NULL,2,NULL)
DELETE FROM PARTICIPANT WHERE ID=3
INSERT INTO PARTICIPANT VALUES(3,'Tom',NULL,2,2)
COMMIT
INSERT INTO CAR VALUES(1,4,1)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=1
INSERT INTO PARTICIPANT VALUES(1,'Coco',1,1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,3,1)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=2
INSERT INTO PARTICIPANT VALUES(2,'Bob',1,1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,2,1)
COMMIT
INSERT INTO CAR VALUES(2,4,2)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=3
INSERT INTO PARTICIPANT VALUES(3,'Tom',2,2,2)
DELETE FROM CAR WHERE ID=2
INSERT INTO CAR VALUES(2,3,2)
COMMIT
INSERT INTO CAR VALUES(3,4,2)
COMMIT
INSERT INTO EVENT VALUES(3,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(4,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(5,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(6,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(7,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(8,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(9,'10-10-10','Paris')
COMMIT
/*C7*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B4D8C5B9B6
alter table Participant drop constraint FK9127971384EAAD68
alter table Participant drop constraint FK91279713E78A2D13
alter table Participant drop constraint FK91279713EA60FD13
drop table Car if exists
drop table Event if exists
drop table Participant if exists
create table Car (id integer generated by default as identity (start with 1), seat integer not null, event1_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date varchar(255), place varchar(255), primary key (id))
create table Participant (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, eventId integer, primary key (id))
alter table Car add constraint FK107B4D8C5B9B6 foreign key (event1_id) references Event
alter table Participant add constraint FK9127971384EAAD68 foreign key (eventId) references Event
alter table Participant add constraint FK91279713E78A2D13 foreign key (event_id) references Event
alter table Participant add constraint FK91279713EA60FD13 foreign key (car_id) references Car
INSERT INTO EVENT VALUES(1,'11-11-11','Redon')
COMMIT
INSERT INTO EVENT VALUES(2,'12-12-12','Rennes')
COMMIT
INSERT INTO PARTICIPANT VALUES(1,'Coco',NULL,1,NULL)
DELETE FROM PARTICIPANT WHERE ID=1
INSERT INTO PARTICIPANT VALUES(1,'Coco',NULL,1,1)
COMMIT
INSERT INTO PARTICIPANT VALUES(2,'Bob',NULL,1,NULL)
DELETE FROM PARTICIPANT WHERE ID=2
INSERT INTO PARTICIPANT VALUES(2,'Bob',NULL,1,1)
COMMIT
INSERT INTO PARTICIPANT VALUES(3,'Tom',NULL,2,NULL)
DELETE FROM PARTICIPANT WHERE ID=3
INSERT INTO PARTICIPANT VALUES(3,'Tom',NULL,2,2)
COMMIT
INSERT INTO CAR VALUES(1,4,1)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=1
INSERT INTO PARTICIPANT VALUES(1,'Coco',1,1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,3,1)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=2
INSERT INTO PARTICIPANT VALUES(2,'Bob',1,1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,2,1)
COMMIT
INSERT INTO CAR VALUES(2,4,2)
COMMIT
DELETE FROM PARTICIPANT WHERE ID=3
INSERT INTO PARTICIPANT VALUES(3,'Tom',2,2,2)
DELETE FROM CAR WHERE ID=2
INSERT INTO CAR VALUES(2,3,2)
COMMIT
INSERT INTO CAR VALUES(3,4,2)
COMMIT
INSERT INTO EVENT VALUES(3,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(4,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(5,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(6,'10-10-10','Paris')
COMMIT
INSERT INTO EVENT VALUES(7,'10-10-10','Paris')
COMMIT
INSERT INTO CAR VALUES(4,4,3)
COMMIT
INSERT INTO CAR VALUES(5,4,3)
COMMIT
INSERT INTO CAR VALUES(6,4,3)
COMMIT
INSERT INTO CAR VALUES(7,4,3)
COMMIT
INSERT INTO CAR VALUES(8,4,3)
COMMIT
INSERT INTO CAR VALUES(9,4,3)
COMMIT
