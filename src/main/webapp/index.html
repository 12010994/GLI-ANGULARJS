<!doctype html>
<html lang="en" ng-app id="ng-app">
<head>
<script src="bower_components/angular/angular.min.js"></script>
<script>
        function PostsCtrlAjax($scope, $http)
        {
        $http({method: 'GET', url: '/rest/events'}).success(function(data) {
        $scope.posts = data;
        });
        }
        
        function Test2($scope,$log,$http)
        {
        
        	$scope.foo = function foo(){
        	$log.error("click");
        	
	        	foo = {
		        	"id":3,
		        	"date":"10-10-10",
		        	"place":"Paris",
		        	"participants":[{"id":4,"name":"Tomy"}],
					"cars":[
						{"id":3,"seat":3,"passengers":[{"id":4,"name":"Tomy"}]},
						{"id":4,"seat":4,"passengers":[]}]
	        		}
	        	
	        	$http({method: 'GET', url: '/rest/events', foo}).success(function(data) {
	      			$scope.posts = data;
	       		});
	        	$scope.titi = "toto";
	       		console.log("toto");
       		}
        }
</script>
<style>
body {
	font-family: arial;
	font-size: 12px;
	padding: 10px;
}

.postBody {
	width: 550px;
	border-bottom: dashed 2px #dedede
}

.postBody a {
	color: #333333;
	text-decoration: none
}

.postBody a:hover {
	color: #006699;
	background-color: #dedede
}

.time {
	margin: 10px 0px 10px 0px;
	color: #006699;
}
</style>
</head>
<body>
	<center>
		<h1>Doodle de Covoiturage</h1>
	</center>
	<h2>Liste des covoiturages:</h2>

	<div id="ng-app" ng-app ng-controller="PostsCtrlAjax">
		<div ng-repeat="post in posts" class='postBody'>
			<h2>
				{{post.place}}
			</h2>
			<div class='time'>{{post.date}}</div>
			<img
				src="http://www.covoiturage-libre.fr/images/Conducteur-homme.jpg" />
		</div>

	</div>
	<div id="ng-app1" ng-app ng-controller="Test2">
		<button ng-click="foo()">Increment</button>
		{{titi}}
	</div>
</body>
</html>
